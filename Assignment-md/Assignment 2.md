# Assignment 2

红字为相对于Assignment 1的新增内容。删除线是相对于Assignment1的删除内容，由于中间版本无法恢复了，故只给出了版本修改的日期记录。

## 项目愿景：

| 版本     | 日期          | 描述                             | 作者   |
| -------- | ------------- | -------------------------------- | ------ |
| 初始草案 | 2020年5月26日 | 第一个草案，主要在细化阶段中精化 | 肖霖畅 |
| 改进版本 | 2020年6月6日  | 第二个版本                       | 肖霖畅 |

我们渴望打造出的软件，给科研人员和工程师们带来的益处包括但不限于：

* 节约成本 – 开源的软件使得工程团队不需要花大价钱购买国外软件技术
* 提高效率 – 传统基于网格的计算软件规模过大，不利于新手和普通学习团队使用，常常需要花较多时间研究学习。我们将让系统变得相对简单，满足团队和个人需要的最多最核心的功能。
* 灵活 - 本应用具有高度开放的API，能够让用户自由搭配，从而让用户可以自由搭配想要的功能。

我们期望打造出的产品有如下特性：

* 网格清晰，结构便于理解
* 通过系统给出的API，自由配置模型信息，实现随时修改
* ~~计算完成后，系统给出"保存成文件"、"打印"等自动化功能，便于用户编程~~
* ~~用户可以在系统内多次同步计算，实现伪多线程的计算方式~~

## 详细用例 用户使用mesh系统实现目标

| 版本      | 日期          | 描述                                                         | 作者 |
| --------- | ------------- | ------------------------------------------------------------ | ---- |
| 初始草案  | 2020年5月26日 | 第一个草案，主要在细化阶段中精化                             | 全员 |
| 改进版本  | 2020年6月6日  | 第二个草案，增加了部分内容                                   | 全员 |
| 改进版本2 | 2020年6月13日 | 第三个草案，删除了一个不完成的内容，也增加了几个主成功场景的内容 | 全员 |
| 改进版本3 | 2020年7月25日 | 第四个草案，再删除了一些不完成的内容                         | 全员 |

范围：mesh文件处理系统

对象：使用该系统的用户（可以是科研工作者）

主要参与员：用户

涉众及关注点：

用户希望能够导入自己手头拥有的Mesh格式文档，并且快速、直观地得到数据结构，并且希望系统可以处理自己输入的计算函数，最终得到实验结果

前置条件：Mesh文档格式符合系统规定的要求，计算函数通过C/C++编译，用户正确按操作步骤进行

后置条件：存储数据结构。准确搭建结构。准备划分和计算组件。记录数据结构信息。得出运算结果，并将运算后的数据结构和结果存储到文件中。

主成功场景：

1. 用户申请导入Mesh文件；
2. 用户通过阅读可支持数据结构格式目录了解可选数据结构的信息；
3. <font color=red>用户选择数据结构格式；</font>
4. <font color=red>用户通过阅读可支持显示数据结构方式了解可选显示信息；</font>
5. <font color=red>用户选择显示数据结构的方式；;</font>
6. 用户导入计算函数；
7. 系统根据用户选择数据结构格式进行转化；
8. ~~系统根据用户选择的显示方式调用显示函数；~~
9. 用户通过界面阅读得到的数据结构；
10. ~~用户通过界面进行划分，查看划分结构；~~
11. 系统显示结果；
12. 系统将结果和计算后的结构导入文件中；

## 用例图	

| 版本      | 日期          | 描述                                 | 作者   |
| --------- | ------------- | ------------------------------------ | ------ |
| 初始草案  | 2020年5月28日 | 第一个草案，主要在细化阶段中精化     | 全员   |
| 改进版本  | 2020年6月6日  | 第二个草案，增加了部分内容           | 肖霖畅 |
| 改进版本2 | 2020年6月13日 | 第三个草案，删除了一个不完成的内容   | 唐乾力 |
| 改进版本3 | 2020年7月25日 | 第四个草案，再删除了一些不完成的内容 | 秦裕胜 |

![a9McvT.png](https://s1.ax1x.com/2020/07/26/a9McvT.png)

## 领域模型

| 版本     | 日期         | 描述 | 作者 |
| -------- | ------------ | ---- | ---- |
| 初始草案 | 2020年6月6日 |      | 全员 |

![tyIzWR.png](https://s1.ax1x.com/2020/06/06/tyIzWR.png)

## 补充性规格说明

| 版本      | 日期          | 描述                               | 作者   |
| --------- | ------------- | ---------------------------------- | ------ |
| 初始草案  | 2020年5月26日 | 第一个草案，主要在细化阶段中精化   | 全员   |
| 修改草案1 | 2020年6月6日  | 第二个草案，增加更多类型的需求     | 肖霖畅 |
| 修改草案2 | 2020年7月25日 | 第二个草案，删除了不予以实现的内容 | 唐乾力 |

**功能性**：

1. **日志和错误处理**。在持久化存储中记录错误历史
2. **安全性**。在导入文件到导出文件整个过程中，系统都会保证文件信息完整、无误。

**可用性**：

1. **辅助功能**。为新用户提供模板和示例，提供部分功能的文档和教程，为新用户上手提供方便。
2. **用户体验**。系统重点信息突出，避免使用过多的冗杂功能

**可靠性**：

1. **可恢复性**。如果系统在处理过程中出现错误，为了保证文件的准确性，系统使用本地方案进行解决。
2. **性能**。系统将使用先进的算法，迅速完成数据结构的构建、较好优化计算算法。

**可支持性**：

1. **可适应性**。对于不同的平台和设备，如Windows,Mac等，保持页面一致性
2. **可编程API**。系统提供优秀的可编程API，为用户提供自主编辑的模块，使得用户可以自己编写、运行、调试自己的算法。

**实现约束**：

* 客户端：选择使用命令行界面的服务形式，提高用户体验。
* 整个程序坚持采用C++技术作为解决方案，主要是因为易于开发且提供给领域用户给大的方便。

**免费开源构建**

我们会在项目中尽可能使用免费的C/C++开源构建。

~~目前我们会采用以下构建：~~

* ~~log4cplus（C++日志框架）~~

**接口**

本系统主要涉及一些软件接口，如用户输入接口、导入文件接口和日志接口。

**法律问题**

~~我们使用一些开源构建，但是有许可限制。~~

| 开源构件      | 许可证                | 备注                                                         |
| ------------- | --------------------- | ------------------------------------------------------------ |
| ~~log4cplus~~ | ~~Log4cplus license~~ | ~~[https://github.com/log4cplus/log4cplus/blob/master/LICENSE](https://github.com/log4cplus/log4cplus/blob/master/LICENSE)~~ |

**所关注领域内的信息**

领域用户在进行计算时，公式的导入需要一个更加便捷的操作，可以保证系统的稳定，减少错误。

**国际化问题**

本系统主要基于英语和中文语境开发，暂不支持其他语言环境。

**操作问题**

1. 当错误出现时，应该在log文档中保存错误信息，并及时结束错误的程序计算过程，防止消耗计算机资源；
2. 在进行一些关键操作时，提醒用户备份，系统也自动生成备份，防止原Mesh文档被修改、覆盖。

## 词汇表

| 版本     | 日期          | 描述                             | 作者 |
| -------- | ------------- | -------------------------------- | ---- |
| 初始草案 | 2020年5月26日 | 第一个草案，主要在细化阶段中精化 | 全员 |

| 术语         | 定义和信息                                 | 格式                             | 验证规则                                   | 别名     |
| ------------ | ------------------------------------------ | -------------------------------- | ------------------------------------------ | -------- |
| 用户输入文件 | 用户输入的具有mesh数据的文件               | .msh文件                         | .msh文件中的数据格式是否符合GMSH规定的样式 |          |
| 用户程序     | 用户导入的可完成用户目标的程序             | .c文件和.cpp文件，也可以是代码段 | 是否能通过编译器编译                       | 计算函数 |
| 存储结构     | 用来存储用户输入文件中的数据的类           | c++中的类                        |                                            |          |
| 用户接口     | 用于给用户选择数据结构和导入用户程序的接口 | 程序                             |                                            | 文字界面 |
| 导出结果     | 用于给用户返回计算结果和计算后结构体的函数 | 程序                             |                                            | 导出函数 |
| 结果文件     | 用来存放计算结果和计算后结构体的文件       |                                  |                                            |          |



## 系统顺序图

| 版本     | 日期         | 描述                             | 作者 |
| -------- | ------------ | -------------------------------- | ---- |
| 初始草案 | 2020年6月6日 | 第一个草案，主要在细化阶段中精化 | 全员 |

![a9GRr6.png](https://s1.ax1x.com/2020/07/26/a9GRr6.png)

## 操作契约

| 版本     | 日期         | 描述                             | 作者 |
| -------- | ------------ | -------------------------------- | ---- |
| 初始草案 | 2020年6月6日 | 第一个草案，主要在细化阶段中精化 | 全员 |

操作：beginimporting()

交叉引用：用户向系统导入.msh文件

前置条件：用户成功导入.msh文件

后置条件：系统将.msh文件中的数据储存到存储结构中。为接下来执行用户程序准备



操作：outputDataStruct()

交叉引用：系统导出结果

前置条件：系统执行用户输入程序完毕

后置条件：系统将计算结果和生成的结构输入到新的文件中



## 部分工件的代码表示

| 版本     | 日期          | 描述 | 作者 |
| -------- | ------------- | ---- | ---- |
| 初始草案 | 2020年7月25日 |      | 全员 |

![a9JgYQ.png](https://s1.ax1x.com/2020/07/26/a9JgYQ.png)

